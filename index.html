<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒç†å¥åº·è‡ªæµ‹å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .welcome-screen, .question-screen, .result-screen {
            display: none;
        }

        .welcome-screen.active, .question-screen.active, .result-screen.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .welcome-screen h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .welcome-screen p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .welcome-screen ul {
            color: #666;
            margin: 20px 0;
            padding-left: 20px;
        }

        .welcome-screen li {
            margin: 10px 0;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s;
            border-radius: 4px;
        }

        .question-number {
            color: #764ba2;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .question-text {
            color: #333;
            font-size: 20px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: #f0f1ff;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            display: none;
        }

        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid #999;
            border-radius: 50%;
            margin-right: 15px;
            position: relative;
            flex-shrink: 0;
        }

        .option input[type="radio"]:checked + .option-content .option-radio {
            border-color: #667eea;
            background: #667eea;
        }

        .option input[type="radio"]:checked + .option-content .option-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .option-content {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .option-text {
            color: #333;
            font-size: 16px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 20px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-screen h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 26px;
        }

        .result-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .result-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .result-card p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
        }

        .score-display h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .score-display .score {
            font-size: 48px;
            font-weight: bold;
        }

        .disclaimer {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .disclaimer p {
            color: #856404;
            font-size: 14px;
            line-height: 1.6;
        }

        .level-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            margin-left: 10px;
        }

        .level-low {
            background: #d4edda;
            color: #155724;
        }

        .level-mild {
            background: #fff3cd;
            color: #856404;
        }

        .level-moderate {
            background: #f8d7da;
            color: #721c24;
        }

        .level-severe {
            background: #721c24;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>å¿ƒç†å¥åº·è‡ªæµ‹å·¥å…·</h1>
            <p>ç„¦è™‘ä¸æŠ‘éƒæƒ…ç»ªè¯„ä¼°</p>
        </div>

        <div class="content">
            <!-- æ¬¢è¿é¡µé¢ -->
            <div class="welcome-screen active">
                <h2>æ¬¢è¿ä½¿ç”¨å¿ƒç†å¥åº·è‡ªæµ‹å·¥å…·</h2>
                <p>è¿™æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è‡ªæˆ‘è¯„ä¼°å·¥å…·,å¸®åŠ©ä½ å…¨é¢äº†è§£è‡ªå·±çš„æƒ…ç»ªçŠ¶æ€ã€‚è¯·æ ¹æ®è¿‡å»ä¸¤å‘¨å†…çš„çœŸå®æ„Ÿå—å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚</p>
                <ul>
                    <li>å…±æœ‰20é“ä¸“ä¸šé¢˜ç›®</li>
                    <li>æ¯é“é¢˜æœ‰4ä¸ªé€‰é¡¹</li>
                    <li>æ¶µç›–å¤šä¸ªè¯„ä¼°ç»´åº¦</li>
                    <li>è¯·é€‰æ‹©æœ€ç¬¦åˆä½ æƒ…å†µçš„ç­”æ¡ˆ</li>
                    <li>æµ‹è¯•æ—¶é—´çº¦5-8åˆ†é’Ÿ</li>
                </ul>
                <div class="disclaimer">
                    <p><strong>é‡è¦æç¤º:</strong> æœ¬æµ‹è¯•ä»…ä¾›å‚è€ƒ,ä¸èƒ½æ›¿ä»£ä¸“ä¸šçš„å¿ƒç†å¥åº·è¯„ä¼°ã€‚å¦‚æœä½ æ„Ÿåˆ°æŒç»­çš„æƒ…ç»ªå›°æ‰°,è¯·å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆæˆ–åŒ»ç”Ÿçš„å¸®åŠ©ã€‚</p>
                </div>
                <button class="btn" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
            </div>

            <!-- é—®é¢˜é¡µé¢ -->
            <div class="question-screen">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="question-number" id="questionNumber"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
                <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
            </div>

            <!-- ç»“æœé¡µé¢ -->
            <div class="result-screen">
                <h2>æµ‹è¯„ç»“æœ</h2>
                <div id="resultContent"></div>
                <button class="btn" onclick="restartTest()">é‡æ–°æµ‹è¯•</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                text: "åœ¨è¿‡å»ä¸¤å‘¨å†…,ä½ æ˜¯å¦æ„Ÿåˆ°æƒ…ç»ªä½è½ã€æ²®ä¸§æˆ–ç»æœ›?",
                options: [
                    { text: "å®Œå…¨ä¸ä¼š", score: 0 },
                    { text: "å¶å°”ä¼š(å‡ å¤©)", score: 1 },
                    { text: "ç»å¸¸ä¼š(è¶…è¿‡ä¸€åŠçš„æ—¶é—´)", score: 2 },
                    { text: "å‡ ä¹æ¯å¤©", score: 3 }
                ],
                type: "depression",
                category: "core_depression"
            },
            {
                id: 2,
                text: "ä½ æ˜¯å¦å¯¹æ—¥å¸¸æ´»åŠ¨å¤±å»å…´è¶£æˆ–ä¹è¶£?",
                options: [
                    { text: "å®Œå…¨æ²¡æœ‰", score: 0 },
                    { text: "æœ‰ä¸€ç‚¹å¤±å»å…´è¶£", score: 1 },
                    { text: "æ˜æ˜¾å¤±å»å…´è¶£", score: 2 },
                    { text: "å¯¹æ‰€æœ‰äº‹ç‰©éƒ½ä¸æ„Ÿå…´è¶£", score: 3 }
                ],
                type: "depression",
                category: "core_depression"
            },
            {
                id: 3,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°ç´§å¼ ã€ç„¦è™‘æˆ–çƒ¦èºä¸å®‰?",
                options: [
                    { text: "å®Œå…¨ä¸ä¼š", score: 0 },
                    { text: "å¶å°”ä¼š", score: 1 },
                    { text: "ç»å¸¸ä¼š", score: 2 },
                    { text: "å‡ ä¹æ¯å¤©éƒ½å¾ˆç´§å¼ ", score: 3 }
                ],
                type: "anxiety",
                category: "core_anxiety"
            },
            {
                id: 4,
                text: "ä½ æ˜¯å¦éš¾ä»¥åœæ­¢æˆ–æ§åˆ¶è‡ªå·±çš„æ‹…å¿ƒ?",
                options: [
                    { text: "èƒ½å¤Ÿå¾ˆå¥½åœ°æ§åˆ¶", score: 0 },
                    { text: "æœ‰ä¸€ç‚¹å›°éš¾", score: 1 },
                    { text: "ç»å¸¸éš¾ä»¥æ§åˆ¶", score: 2 },
                    { text: "å®Œå…¨æ— æ³•æ§åˆ¶æ‹…å¿ƒ", score: 3 }
                ],
                type: "anxiety",
                category: "core_anxiety"
            },
            {
                id: 5,
                text: "ä½ çš„ç¡çœ è´¨é‡å¦‚ä½•?(å…¥ç¡å›°éš¾ã€æ˜“é†’ã€æ—©é†’æˆ–ç¡çœ è¿‡å¤š)",
                options: [
                    { text: "ç¡çœ è‰¯å¥½", score: 0 },
                    { text: "å¶æœ‰ç¡çœ é—®é¢˜", score: 1 },
                    { text: "ç»å¸¸æœ‰ç¡çœ é—®é¢˜", score: 2 },
                    { text: "ä¸¥é‡ç¡çœ éšœç¢", score: 3 }
                ],
                type: "both",
                category: "physical"
            },
            {
                id: 6,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°ç–²å€¦æˆ–ç¼ºä¹ç²¾åŠ›?",
                options: [
                    { text: "ç²¾åŠ›å……æ²›", score: 0 },
                    { text: "å¶å°”æ„Ÿåˆ°ç–²å€¦", score: 1 },
                    { text: "ç»å¸¸æ„Ÿåˆ°ç–²å€¦", score: 2 },
                    { text: "æŒç»­ç–²æƒ«æ— åŠ›", score: 3 }
                ],
                type: "both",
                category: "physical"
            },
            {
                id: 7,
                text: "ä½ æ˜¯å¦å¯¹è®¸å¤šä¸åŒçš„äº‹æƒ…æ„Ÿåˆ°è¿‡åº¦æ‹…å¿ƒ?",
                options: [
                    { text: "å¾ˆå°‘æ‹…å¿ƒ", score: 0 },
                    { text: "æœ‰æ—¶ä¼šæ‹…å¿ƒ", score: 1 },
                    { text: "ç»å¸¸è¿‡åº¦æ‹…å¿ƒ", score: 2 },
                    { text: "æ— æ—¶æ— åˆ»ä¸åœ¨æ‹…å¿ƒ", score: 3 }
                ],
                type: "anxiety",
                category: "cognitive"
            },
            {
                id: 8,
                text: "ä½ æ˜¯å¦è§‰å¾—è‡ªå·±å¾ˆå¤±è´¥,æˆ–è®©è‡ªå·±æˆ–å®¶äººå¤±æœ›?",
                options: [
                    { text: "å®Œå…¨ä¸ä¼š", score: 0 },
                    { text: "å¶å°”ä¼šè¿™æ ·æƒ³", score: 1 },
                    { text: "ç»å¸¸æœ‰è¿™ç§æ„Ÿè§‰", score: 2 },
                    { text: "æŒç»­è§‰å¾—è‡ªå·±å¾ˆå¤±è´¥", score: 3 }
                ],
                type: "depression",
                category: "self_worth"
            },
            {
                id: 9,
                text: "ä½ æ˜¯å¦éš¾ä»¥é›†ä¸­æ³¨æ„åŠ›(å¦‚é˜…è¯»ã€å·¥ä½œã€çœ‹ç”µè§†)?",
                options: [
                    { text: "æ³¨æ„åŠ›æ­£å¸¸", score: 0 },
                    { text: "æœ‰ç‚¹éš¾ä»¥é›†ä¸­", score: 1 },
                    { text: "ç»å¸¸éš¾ä»¥é›†ä¸­", score: 2 },
                    { text: "å®Œå…¨æ— æ³•é›†ä¸­æ³¨æ„åŠ›", score: 3 }
                ],
                type: "both",
                category: "cognitive"
            },
            {
                id: 10,
                text: "ä½ çš„é£Ÿæ¬²æ˜¯å¦å‘ç”Ÿæ˜æ˜¾å˜åŒ–?(é£Ÿæ¬²ä¸æŒ¯æˆ–æš´é¥®æš´é£Ÿ)",
                options: [
                    { text: "é£Ÿæ¬²æ­£å¸¸", score: 0 },
                    { text: "è½»å¾®å˜åŒ–", score: 1 },
                    { text: "æ˜æ˜¾å˜åŒ–", score: 2 },
                    { text: "ä¸¥é‡é£Ÿæ¬²ç´Šä¹±", score: 3 }
                ],
                type: "both",
                category: "physical"
            },
            {
                id: 11,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°åç«‹ä¸å®‰,éš¾ä»¥ä¿æŒå¹³é™?",
                options: [
                    { text: "å¾ˆå¹³é™", score: 0 },
                    { text: "å¶å°”åç«‹ä¸å®‰", score: 1 },
                    { text: "ç»å¸¸åç«‹ä¸å®‰", score: 2 },
                    { text: "æåº¦ä¸å®‰,æ— æ³•é™å", score: 3 }
                ],
                type: "anxiety",
                category: "physical"
            },
            {
                id: 12,
                text: "ä½ çš„åŠ¨ä½œæˆ–è¯´è¯æ˜¯å¦å˜æ…¢,æˆ–ç›¸åå˜å¾—ç„¦èºæ˜“åŠ¨?",
                options: [
                    { text: "ä¸€åˆ‡æ­£å¸¸", score: 0 },
                    { text: "å¶æœ‰æ­¤ç°è±¡", score: 1 },
                    { text: "ç»å¸¸å¦‚æ­¤", score: 2 },
                    { text: "éå¸¸æ˜æ˜¾,ä»–äººå·²æ³¨æ„åˆ°", score: 3 }
                ],
                type: "depression",
                category: "physical"
            },
            {
                id: 13,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°å®¹æ˜“è¢«æ¿€æ€’æˆ–è„¾æ°”æš´èº?",
                options: [
                    { text: "æƒ…ç»ªç¨³å®š", score: 0 },
                    { text: "å¶å°”æ˜“æ€’", score: 1 },
                    { text: "ç»å¸¸æ˜“æ€’", score: 2 },
                    { text: "æŒç»­å¤„äºæ˜“æ€’çŠ¶æ€", score: 3 }
                ],
                type: "both",
                category: "emotional"
            },
            {
                id: 14,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°å®³æ€•,å¥½åƒå°†æœ‰å¯æ€•çš„äº‹æƒ…å‘ç”Ÿ?",
                options: [
                    { text: "æ²¡æœ‰è¿™ç§æ„Ÿè§‰", score: 0 },
                    { text: "å¶å°”ä¼šå®³æ€•", score: 1 },
                    { text: "ç»å¸¸æ„Ÿåˆ°ææƒ§", score: 2 },
                    { text: "æŒç»­æ„Ÿåˆ°å¼ºçƒˆææƒ§", score: 3 }
                ],
                type: "anxiety",
                category: "emotional"
            },
            {
                id: 15,
                text: "ä½ å¯¹è‡ªå·±çš„è¯„ä»·å¦‚ä½•?æ˜¯å¦æœ‰è‡ªæˆ‘åŒæ¶æˆ–è‡ªè´£çš„æƒ³æ³•?",
                options: [
                    { text: "è‡ªæˆ‘è¯„ä»·æ­£å¸¸", score: 0 },
                    { text: "å¶å°”è‡ªè´£", score: 1 },
                    { text: "ç»å¸¸è‡ªæˆ‘å¦å®š", score: 2 },
                    { text: "ä¸¥é‡çš„è‡ªæˆ‘åŒæ¶", score: 3 }
                ],
                type: "depression",
                category: "self_worth"
            },
            {
                id: 16,
                text: "ä½ æ˜¯å¦éš¾ä»¥æ”¾æ¾è‡ªå·±?",
                options: [
                    { text: "èƒ½å¤Ÿè½»æ¾æ”¾æ¾", score: 0 },
                    { text: "æœ‰ç‚¹éš¾ä»¥æ”¾æ¾", score: 1 },
                    { text: "å¾ˆéš¾æ”¾æ¾ä¸‹æ¥", score: 2 },
                    { text: "å®Œå…¨æ— æ³•æ”¾æ¾", score: 3 }
                ],
                type: "anxiety",
                category: "physical"
            },
            {
                id: 17,
                text: "ä½ æ˜¯å¦æ„Ÿåˆ°èº«ä½“ä¸é€‚?(å¦‚å¤´ç—›ã€èƒƒç—›ã€è‚Œè‚‰ç´§å¼ ç­‰)",
                options: [
                    { text: "èº«ä½“æ„Ÿè§‰è‰¯å¥½", score: 0 },
                    { text: "å¶æœ‰ä¸é€‚", score: 1 },
                    { text: "ç»å¸¸èº«ä½“ä¸é€‚", score: 2 },
                    { text: "æŒç»­ä¸¥é‡çš„èº«ä½“ä¸é€‚", score: 3 }
                ],
                type: "both",
                category: "physical"
            },
            {
                id: 18,
                text: "ä½ æ˜¯å¦è§‰å¾—æ´»ç€æ²¡æœ‰æ„ä¹‰,æˆ–è€…æœ‰è¿‡è‡ªæˆ‘ä¼¤å®³çš„å¿µå¤´?",
                options: [
                    { text: "ä»æœªæœ‰è¿‡", score: 0 },
                    { text: "å¶å°”é—ªè¿‡è¿™æ ·çš„å¿µå¤´", score: 1 },
                    { text: "ç»å¸¸è¿™æ ·æƒ³", score: 2 },
                    { text: "é¢‘ç¹å‡ºç°ä¸”è®¤çœŸè€ƒè™‘", score: 3 }
                ],
                type: "depression",
                category: "suicidal"
            },
            {
                id: 19,
                text: "ä½ æ˜¯å¦å›é¿æŸäº›åœºåˆæˆ–æ´»åŠ¨,å› ä¸ºå®ƒä»¬è®©ä½ æ„Ÿåˆ°ç„¦è™‘?",
                options: [
                    { text: "æ²¡æœ‰å›é¿", score: 0 },
                    { text: "å¶å°”å›é¿", score: 1 },
                    { text: "ç»å¸¸å›é¿", score: 2 },
                    { text: "ä¸¥é‡å½±å“æ­£å¸¸ç”Ÿæ´»", score: 3 }
                ],
                type: "anxiety",
                category: "behavioral"
            },
            {
                id: 20,
                text: "ä½ å¯¹æœªæ¥çš„çœ‹æ³•å¦‚ä½•?",
                options: [
                    { text: "å……æ»¡å¸Œæœ›å’ŒæœŸå¾…", score: 0 },
                    { text: "æœ‰äº›æ‚²è§‚", score: 1 },
                    { text: "æ„Ÿåˆ°å¾ˆæ‚²è§‚", score: 2 },
                    { text: "å®Œå…¨ç»æœ›,çœ‹ä¸åˆ°å¸Œæœ›", score: 3 }
                ],
                type: "depression",
                category: "hopelessness"
            }
        ];

        let currentQuestion = 0;
        let answers = [];

        function startTest() {
            document.querySelector('.welcome-screen').classList.remove('active');
            document.querySelector('.question-screen').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `ç¬¬ ${currentQuestion + 1} é¢˜ / å…± ${questions.length} é¢˜`;
            document.getElementById('questionText').textContent = question.text;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('label');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" value="${option.score}" onchange="enableNextButton()">
                    <div class="option-content">
                        <div class="option-radio"></div>
                        <div class="option-text">${option.text}</div>
                    </div>
                `;
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('nextBtn').disabled = true;
        }

        function enableNextButton() {
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            if (!selectedOption) return;
            
            answers.push({
                questionId: questions[currentQuestion].id,
                type: questions[currentQuestion].type,
                score: parseInt(selectedOption.value)
            });
            
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.querySelector('.question-screen').classList.remove('active');
            document.querySelector('.result-screen').classList.add('active');
            
            // è®¡ç®—æ€»åˆ†å’Œåˆ†ç±»åˆ†æ•°
            let totalScore = 0;
            let anxietyScore = 0;
            let depressionScore = 0;
            
            // æŒ‰ç±»åˆ«ç»Ÿè®¡åˆ†æ•°
            let categoryScores = {
                core_anxiety: 0,
                core_depression: 0,
                physical: 0,
                cognitive: 0,
                emotional: 0,
                self_worth: 0,
                behavioral: 0,
                suicidal: 0,
                hopelessness: 0
            };
            
            answers.forEach(answer => {
                const question = questions.find(q => q.id === answer.questionId);
                totalScore += answer.score;
                
                if (answer.type === 'anxiety') {
                    anxietyScore += answer.score;
                } else if (answer.type === 'depression') {
                    depressionScore += answer.score;
                } else if (answer.type === 'both') {
                    anxietyScore += answer.score;
                    depressionScore += answer.score;
                }
                
                // æŒ‰ç±»åˆ«ç´¯è®¡
                if (question.category && categoryScores.hasOwnProperty(question.category)) {
                    categoryScores[question.category] += answer.score;
                }
            });
            
            // æ£€æµ‹è‡ªæ€é£é™©
            const suicidalRisk = categoryScores.suicidal;
            
            // ç”Ÿæˆç»“æœ
            const resultContent = document.getElementById('resultContent');
            
            // æ•´ä½“è¯„ä¼°
            let overallLevel, overallText, overallClass;
            if (totalScore <= 10) {
                overallLevel = "è‰¯å¥½";
                overallClass = "level-low";
                overallText = "ä½ çš„æ•´ä½“æƒ…ç»ªçŠ¶æ€è‰¯å¥½,æ²¡æœ‰æ˜æ˜¾çš„ç„¦è™‘æˆ–æŠ‘éƒç—‡çŠ¶ã€‚ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ã€è§„å¾‹ä½œæ¯å’Œç§¯æçš„å¿ƒæ€ã€‚å»ºè®®ä¿æŒè‰¯å¥½çš„ç¤¾äº¤å…³ç³»å’Œé€‚åº¦è¿åŠ¨ã€‚";
            } else if (totalScore <= 20) {
                overallLevel = "è½»åº¦å›°æ‰°";
                overallClass = "level-mild";
                overallText = "ä½ å¯èƒ½å­˜åœ¨è½»åº¦çš„æƒ…ç»ªå›°æ‰°,è¿™åœ¨ç°ä»£ç”Ÿæ´»ä¸­å¾ˆå¸¸è§ã€‚å»ºè®®å…³æ³¨è‡ªå·±çš„å¿ƒç†å¥åº·,é€‚å½“è°ƒæ•´ç”Ÿæ´»èŠ‚å¥,å¢åŠ è¿åŠ¨ã€æˆ·å¤–æ´»åŠ¨å’Œç¤¾äº¤äº’åŠ¨ã€‚å¯ä»¥å°è¯•ä¸€äº›æ”¾æ¾æŠ€å·§,å¦‚æ·±å‘¼å¸ã€å†¥æƒ³æˆ–ç‘œä¼½ã€‚";
            } else if (totalScore <= 35) {
                overallLevel = "ä¸­åº¦ç—‡çŠ¶";
                overallClass = "level-moderate";
                overallText = "ä½ å¯èƒ½å­˜åœ¨ä¸­åº¦çš„ç„¦è™‘æˆ–æŠ‘éƒç—‡çŠ¶,å·²ç»å¼€å§‹å½±å“æ—¥å¸¸ç”Ÿæ´»è´¨é‡ã€‚å¼ºçƒˆå»ºè®®å¯»æ±‚å¿ƒç†å’¨è¯¢å¸ˆçš„ä¸“ä¸šå¸®åŠ©,å­¦ä¹ æœ‰æ•ˆçš„æƒ…ç»ªç®¡ç†å’Œè®¤çŸ¥è°ƒèŠ‚æŠ€å·§ã€‚ä¸“ä¸šçš„å¿ƒç†æ²»ç–—(å¦‚è®¤çŸ¥è¡Œä¸ºç–—æ³•)å¯ä»¥æ˜¾è‘—æ”¹å–„ç—‡çŠ¶ã€‚";
            } else {
                overallLevel = "è¾ƒé‡ç—‡çŠ¶";
                overallClass = "level-severe";
                overallText = "ä½ å¯èƒ½å­˜åœ¨è¾ƒä¸¥é‡çš„æƒ…ç»ªé—®é¢˜,ä¸¥é‡å½±å“äº†ç”Ÿæ´»ã€å·¥ä½œå’Œäººé™…å…³ç³»ã€‚å¼ºçƒˆå»ºè®®å°½å¿«å¯»æ±‚ä¸“ä¸šå¿ƒç†åŒ»ç”Ÿæˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿçš„å¸®åŠ©,è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚å¯èƒ½éœ€è¦ç»“åˆå¿ƒç†æ²»ç–—å’Œè¯ç‰©æ²»ç–—æ¥æ”¹å–„ç—‡çŠ¶ã€‚è¯·ä¸è¦çŠ¹è±«,åŠæ—¶å¯»æ±‚å¸®åŠ©æ˜¯å‹‡æ•¢å’Œæ˜æ™ºçš„é€‰æ‹©ã€‚";
            }
            
            // ç„¦è™‘è¯„ä¼°(æ»¡åˆ†30åˆ†)
            let anxietyLevel, anxietyText, anxietyClass, anxietyPercentage;
            anxietyPercentage = Math.round((anxietyScore / 30) * 100);
            if (anxietyScore <= 7) {
                anxietyLevel = "æ­£å¸¸èŒƒå›´";
                anxietyClass = "level-low";
                anxietyText = "ç„¦è™‘æ°´å¹³åœ¨æ­£å¸¸èŒƒå›´å†…,ä½ èƒ½å¤Ÿè¾ƒå¥½åœ°åº”å¯¹æ—¥å¸¸å‹åŠ›å’ŒæŒ‘æˆ˜ã€‚ç»§ç»­ä¿æŒå½“å‰çš„åº”å¯¹æ–¹å¼ã€‚";
            } else if (anxietyScore <= 14) {
                anxietyLevel = "è½»åº¦ç„¦è™‘";
                anxietyClass = "level-mild";
                anxietyText = "å­˜åœ¨è½»åº¦ç„¦è™‘,å¯èƒ½åœ¨ç‰¹å®šæƒ…å¢ƒä¸‹æ„Ÿåˆ°ç´§å¼ æˆ–æ‹…å¿ƒã€‚å»ºè®®é€šè¿‡è§„å¾‹è¿åŠ¨ã€æ·±å‘¼å¸ã€æ¸è¿›æ€§è‚Œè‚‰æ”¾æ¾ç­‰æŠ€å·§æ¥ç¼“è§£ã€‚å‡å°‘å’–å•¡å› æ‘„å…¥,ä¿æŒå……è¶³ç¡çœ ä¹Ÿä¼šæœ‰å¸®åŠ©ã€‚";
            } else if (anxietyScore <= 21) {
                anxietyLevel = "ä¸­åº¦ç„¦è™‘";
                anxietyClass = "level-moderate";
                anxietyText = "ç„¦è™‘ç¨‹åº¦è¾ƒæ˜æ˜¾,å¯èƒ½ç»å¸¸æ„Ÿåˆ°ç´§å¼ ä¸å®‰ã€éš¾ä»¥æ”¾æ¾,å¹¶å¯èƒ½ä¼´æœ‰èº«ä½“ç—‡çŠ¶(å¦‚å¿ƒè·³åŠ é€Ÿã€å‡ºæ±—ç­‰)ã€‚å»ºè®®å¯»æ±‚è®¤çŸ¥è¡Œä¸ºæ²»ç–—(CBT),å­¦ä¹ è¯†åˆ«å’Œæ”¹å˜ç„¦è™‘æ€ç»´æ¨¡å¼ã€‚";
            } else {
                anxietyLevel = "é‡åº¦ç„¦è™‘";
                anxietyClass = "level-severe";
                anxietyText = "ç„¦è™‘ç¨‹åº¦è¾ƒé«˜,ä¸¥é‡å½±å“æ—¥å¸¸ç”Ÿæ´»ã€å·¥ä½œå’Œç¤¾äº¤åŠŸèƒ½ã€‚å¯èƒ½ä¼´æœ‰æƒŠæå‘ä½œã€ä¸¥é‡å›é¿è¡Œä¸ºç­‰ã€‚éœ€è¦åŠæ—¶æ¥å—ä¸“ä¸šæ²»ç–—,å¯èƒ½éœ€è¦è¯ç‰©æ²»ç–—é…åˆå¿ƒç†æ²»ç–—ã€‚";
            }
            
            // æŠ‘éƒè¯„ä¼°(æ»¡åˆ†30åˆ†)
            let depressionLevel, depressionText, depressionClass, depressionPercentage;
            depressionPercentage = Math.round((depressionScore / 30) * 100);
            if (depressionScore <= 7) {
                depressionLevel = "æ­£å¸¸èŒƒå›´";
                depressionClass = "level-low";
                depressionText = "æŠ‘éƒæƒ…ç»ªåœ¨æ­£å¸¸èŒƒå›´å†…,æƒ…ç»ªçŠ¶æ€ç›¸å¯¹ç¨³å®š,èƒ½å¤Ÿäº«å—ç”Ÿæ´»ä¸­çš„ä¹è¶£ã€‚";
            } else if (depressionScore <= 14) {
                depressionLevel = "è½»åº¦æŠ‘éƒ";
                depressionClass = "level-mild";
                depressionText = "å­˜åœ¨è½»åº¦æŠ‘éƒæƒ…ç»ª,å¯èƒ½æ„Ÿåˆ°æƒ…ç»ªä½è½ã€å…´è¶£å‡é€€ã€‚å»ºè®®å¢åŠ æˆ·å¤–æ´»åŠ¨å’Œé˜³å…‰ç…§å°„,ä¿æŒè§„å¾‹ä½œæ¯,ä¸æœ‹å‹å®¶äººä¿æŒè”ç³»ã€‚è¡Œä¸ºæ¿€æ´»ç–—æ³•(é€æ­¥å¢åŠ æ„‰å¿«æ´»åŠ¨)å¯èƒ½æœ‰å¸®åŠ©ã€‚";
            } else if (depressionScore <= 21) {
                depressionLevel = "ä¸­åº¦æŠ‘éƒ";
                depressionClass = "level-moderate";
                depressionText = "æŠ‘éƒç—‡çŠ¶è¾ƒæ˜æ˜¾,å¯èƒ½æ„Ÿåˆ°æŒç»­çš„æƒ…ç»ªä½è½ã€è‡ªæˆ‘ä»·å€¼æ„Ÿé™ä½ã€ç²¾åŠ›ä¸è¶³ç­‰ã€‚å¼ºçƒˆå»ºè®®è¿›è¡Œå¿ƒç†å’¨è¯¢,è®¤çŸ¥è¡Œä¸ºç–—æ³•æˆ–äººé™…å…³ç³»ç–—æ³•ç­‰éƒ½æœ‰è‰¯å¥½æ•ˆæœã€‚å¿…è¦æ—¶å¯è€ƒè™‘è¯ç‰©æ²»ç–—ã€‚";
            } else {
                depressionLevel = "é‡åº¦æŠ‘éƒ";
                depressionClass = "level-severe";
                depressionText = "æŠ‘éƒç¨‹åº¦ä¸¥é‡,å¯èƒ½æ„Ÿåˆ°æ·±åº¦çš„ç»æœ›ã€æ— ä»·å€¼æ„Ÿ,ä¸¥é‡å½±å“æ—¥å¸¸åŠŸèƒ½ã€‚è¯·åŠ¡å¿…å¯»æ±‚ä¸“ä¸šåŒ»ç–—å¸®åŠ©,é€šå¸¸éœ€è¦è¯ç‰©æ²»ç–—ç»“åˆå¿ƒç†æ²»ç–—ã€‚æŠ‘éƒç—‡æ˜¯å¯ä»¥æ²»ç–—çš„,è¯·ä¸è¦æ”¾å¼ƒå¸Œæœ›ã€‚";
            }
            
            // è¯¦ç»†ç»´åº¦åˆ†æ
            let dimensionAnalysis = '';
            
            // æ ¸å¿ƒç—‡çŠ¶åˆ†æ
            if (categoryScores.core_anxiety >= 3 || categoryScores.core_depression >= 3) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸ¯ æ ¸å¿ƒç—‡çŠ¶åˆ†æ</h3>
                    ${categoryScores.core_anxiety >= 3 ? `<p><strong>ç„¦è™‘æ ¸å¿ƒç—‡çŠ¶:</strong> æ£€æµ‹åˆ°æ˜æ˜¾çš„ç„¦è™‘æ ¸å¿ƒç—‡çŠ¶,åŒ…æ‹¬æŒç»­çš„ç´§å¼ æ„Ÿå’Œéš¾ä»¥æ§åˆ¶çš„æ‹…å¿§ã€‚è¿™æ˜¯å¹¿æ³›æ€§ç„¦è™‘éšœç¢çš„å…¸å‹ç‰¹å¾ã€‚</p>` : ''}
                    ${categoryScores.core_depression >= 3 ? `<p><strong>æŠ‘éƒæ ¸å¿ƒç—‡çŠ¶:</strong> æ£€æµ‹åˆ°æ˜æ˜¾çš„æŠ‘éƒæ ¸å¿ƒç—‡çŠ¶,åŒ…æ‹¬æƒ…ç»ªä½è½å’Œå…´è¶£ä¸§å¤±ã€‚è¿™æ˜¯æŠ‘éƒéšœç¢çš„æ ¸å¿ƒç‰¹å¾,éœ€è¦é‡ç‚¹å…³æ³¨ã€‚</p>` : ''}
                </div>
                `;
            }
            
            // èº«ä½“ç—‡çŠ¶
            if (categoryScores.physical >= 4) {
                let physicalLevel = categoryScores.physical <= 6 ? "è½»åº¦" : categoryScores.physical <= 9 ? "ä¸­åº¦" : "æ˜æ˜¾";
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸ’ª èº«ä½“ç—‡çŠ¶ <span class="level-indicator ${categoryScores.physical <= 6 ? 'level-mild' : categoryScores.physical <= 9 ? 'level-moderate' : 'level-severe'}">${physicalLevel}</span></h3>
                    <p>ä½ æŠ¥å‘Šäº†${physicalLevel}çš„èº«ä½“ç—‡çŠ¶,åŒ…æ‹¬ç¡çœ é—®é¢˜ã€ç–²åŠ³ã€åç«‹ä¸å®‰æˆ–èº«ä½“ä¸é€‚ã€‚ç„¦è™‘å’ŒæŠ‘éƒå¸¸å¸¸ä¼´éšè¿™äº›èº«ä½“è¡¨ç°ã€‚</p>
                    <p><strong>å»ºè®®:</strong> è§„å¾‹è¿åŠ¨ã€æ”¹å–„ç¡çœ å«ç”Ÿã€ç»ƒä¹ æ”¾æ¾æŠ€å·§ã€‚å¦‚ç—‡çŠ¶æŒç»­,å»ºè®®è¿›è¡Œä½“æ£€æ’é™¤å…¶ä»–å¥åº·é—®é¢˜ã€‚</p>
                </div>
                `;
            }
            
            // è®¤çŸ¥åŠŸèƒ½
            if (categoryScores.cognitive >= 3) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸ§  è®¤çŸ¥åŠŸèƒ½</h3>
                    <p>ä½ åœ¨æ³¨æ„åŠ›ã€è®°å¿†åŠ›æˆ–å†³ç­–èƒ½åŠ›æ–¹é¢é‡åˆ°å›°éš¾ã€‚è¿™æ˜¯ç„¦è™‘å’ŒæŠ‘éƒçš„å¸¸è§è¡¨ç°,ä¼šå½±å“å·¥ä½œå’Œå­¦ä¹ æ•ˆç‡ã€‚</p>
                    <p><strong>å»ºè®®:</strong> å°†ä»»åŠ¡åˆ†è§£ä¸ºå°æ­¥éª¤,ä½¿ç”¨å¾…åŠæ¸…å•,å‡å°‘å¤šä»»åŠ¡å¤„ç†ã€‚è®¤çŸ¥è®­ç»ƒå’Œæ­£å¿µç»ƒä¹ å¯èƒ½æœ‰å¸®åŠ©ã€‚</p>
                </div>
                `;
            }
            
            // æƒ…ç»ªè°ƒèŠ‚
            if (categoryScores.emotional >= 3) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸ˜° æƒ…ç»ªè°ƒèŠ‚</h3>
                    <p>ä½ åœ¨æƒ…ç»ªè°ƒèŠ‚æ–¹é¢å­˜åœ¨å›°éš¾,å¯èƒ½è¡¨ç°ä¸ºæ˜“æ€’ã€ææƒ§æˆ–æƒ…ç»ªæ³¢åŠ¨ã€‚è¿™åæ˜ å‡ºæƒ…ç»ªè°ƒèŠ‚ç³»ç»Ÿçš„å‹åŠ›ã€‚</p>
                    <p><strong>å»ºè®®:</strong> å­¦ä¹ æƒ…ç»ªè¯†åˆ«å’Œæ¥çº³æŠ€å·§,ç»ƒä¹ æƒ…ç»ªè°ƒèŠ‚ç­–ç•¥(å¦‚æƒ…ç»ªæ—¥è®°ã€æ­£å¿µå†¥æƒ³),è€ƒè™‘è¾©è¯è¡Œä¸ºç–—æ³•(DBT)ã€‚</p>
                </div>
                `;
            }
            
            // è‡ªæˆ‘ä»·å€¼æ„Ÿ
            if (categoryScores.self_worth >= 3) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸ’” è‡ªæˆ‘ä»·å€¼æ„Ÿ</h3>
                    <p>ä½ å¯¹è‡ªå·±çš„è¯„ä»·åè´Ÿé¢,å¯èƒ½å­˜åœ¨è‡ªè´£ã€è‡ªæˆ‘åŒæ¶ç­‰æƒ³æ³•ã€‚è¿™æ˜¯æŠ‘éƒç—‡çš„é‡è¦ç‰¹å¾,éœ€è¦ç‰¹åˆ«å…³æ³¨ã€‚</p>
                    <p><strong>å»ºè®®:</strong> è¯†åˆ«å’ŒæŒ‘æˆ˜è´Ÿé¢è‡ªæˆ‘å¯¹è¯,åŸ¹å…»è‡ªæˆ‘åŒæƒ…å¿ƒ,è®°å½•ç§¯æäº‹ä»¶å’Œä¸ªäººæˆå°±ã€‚è®¤çŸ¥é‡æ„æŠ€æœ¯å¯èƒ½éå¸¸æœ‰å¸®åŠ©ã€‚</p>
                </div>
                `;
            }
            
            // å›é¿è¡Œä¸º
            if (categoryScores.behavioral >= 2) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸšª å›é¿è¡Œä¸º</h3>
                    <p>ä½ å¯èƒ½å› ä¸ºç„¦è™‘è€Œå›é¿æŸäº›åœºåˆæˆ–æ´»åŠ¨,è¿™ä¼šå½¢æˆæ¶æ€§å¾ªç¯,ä½¿ç„¦è™‘æ›´åŠ ä¸¥é‡ã€‚</p>
                    <p><strong>å»ºè®®:</strong> é€æ­¥æš´éœ²ç–—æ³•å¯ä»¥å¸®åŠ©ä½ é€æ¸é¢å¯¹ææƒ§ã€‚ä»æœ€å®¹æ˜“çš„æƒ…å¢ƒå¼€å§‹,é€æ­¥æŒ‘æˆ˜æ›´å›°éš¾çš„åœºæ™¯ã€‚</p>
                </div>
                `;
            }
            
            // ç»æœ›æ„Ÿ
            if (categoryScores.hopelessness >= 2) {
                dimensionAnalysis += `
                <div class="result-card">
                    <h3>ğŸŒ‘ æœªæ¥å±•æœ›</h3>
                    <p>ä½ å¯¹æœªæ¥æ„Ÿåˆ°æ‚²è§‚æˆ–ç»æœ›ã€‚è¿™æ˜¯æŠ‘éƒç—‡çš„é‡è¦è®¤çŸ¥ç‰¹å¾,éœ€è¦é‡ç‚¹å¹²é¢„ã€‚</p>
                    <p><strong>å»ºè®®:</strong> è®¾å®šå°è€Œå¯å®ç°çš„ç›®æ ‡,å…³æ³¨å½“ä¸‹è€Œéé¥è¿œçš„æœªæ¥,ç»ƒä¹ æ„Ÿæ©ã€‚å¸Œæœ›ç–—æ³•å’Œç›®æ ‡è®¾å®šå¯èƒ½æœ‰å¸®åŠ©ã€‚</p>
                </div>
                `;
            }
            
            // è‡ªæ€é£é™©è­¦å‘Š
            let suicidalWarning = '';
            if (suicidalRisk >= 2) {
                suicidalWarning = `
                <div class="result-card" style="background: #ffebee; border-left: 4px solid #c62828;">
                    <h3 style="color: #c62828;">âš ï¸ ç´§æ€¥å…³æ³¨</h3>
                    <p style="color: #b71c1c;"><strong>ä½ æŠ¥å‘Šäº†è‡ªæˆ‘ä¼¤å®³æˆ–è‡ªæ€çš„æƒ³æ³•ã€‚è¿™æ˜¯éå¸¸ä¸¥é‡çš„ä¿¡å·,éœ€è¦ç«‹å³å¯»æ±‚å¸®åŠ©ã€‚</strong></p>
                    <p style="color: #c62828;"><strong>è¯·ç«‹å³:</strong></p>
                    <ul style="color: #c62828; margin-left: 20px;">
                        <li>æ‹¨æ‰“å¿ƒç†å±æœºçƒ­çº¿: 400-161-9995 (24å°æ—¶)</li>
                        <li>è”ç³»å®¶äººã€æœ‹å‹æˆ–ä¿¡ä»»çš„äºº</li>
                        <li>å‰å¾€æœ€è¿‘çš„åŒ»é™¢æ€¥è¯Šå®¤</li>
                        <li>ä¸è¦ç‹¬å¤„,ç¡®ä¿è‡ªå·±çš„å®‰å…¨</li>
                    </ul>
                    <p style="color: #c62828;">è¯·è®°ä½:è¿™äº›æƒ³æ³•å’Œæ„Ÿå—æ˜¯å¯ä»¥æ”¹å˜çš„,ä¸“ä¸šå¸®åŠ©å¯ä»¥è®©æƒ…å†µå¥½è½¬ã€‚ä½ çš„ç”Ÿå‘½å¾ˆé‡è¦ã€‚</p>
                </div>
                `;
            } else if (suicidalRisk === 1) {
                suicidalWarning = `
                <div class="result-card" style="background: #fff3e0; border-left: 4px solid #f57c00;">
                    <h3 style="color: #e65100;">âš ï¸ éœ€è¦å…³æ³¨</h3>
                    <p style="color: #e65100;">ä½ å¶å°”æœ‰è‡ªæˆ‘ä¼¤å®³çš„å¿µå¤´ã€‚è™½ç„¶ä¸æ˜¯ç´§æ€¥æƒ…å†µ,ä½†è¿™æ˜¯éœ€è¦è®¤çœŸå¯¹å¾…çš„ä¿¡å·ã€‚</p>
                    <p><strong>å»ºè®®:</strong> å°½å¿«é¢„çº¦å¿ƒç†å’¨è¯¢å¸ˆæˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿ,ä¸è¦ç­‰å¾…ç—‡çŠ¶åŠ é‡ã€‚å¦‚æœæƒ³æ³•å˜å¾—æ›´é¢‘ç¹æˆ–å¼ºçƒˆ,è¯·ç«‹å³å¯»æ±‚å¸®åŠ©ã€‚</p>
                </div>
                `;
            }
            
            resultContent.innerHTML = `
                <div class="score-display">
                    <h3>æ€»ä½“è¯„åˆ†</h3>
                    <div class="score">${totalScore}</div>
                    <p>æ»¡åˆ†60åˆ†</p>
                </div>
                
                ${suicidalWarning}
                
                <div class="result-card">
                    <h3>ğŸ“Š æ•´ä½“çŠ¶å†µ <span class="level-indicator ${overallClass}">${overallLevel}</span></h3>
                    <p>${overallText}</p>
                </div>
                
                <div class="result-card">
                    <h3>ğŸ˜° ç„¦è™‘è¯„ä¼° <span class="level-indicator ${anxietyClass}">${anxietyLevel}</span></h3>
                    <p><strong>ç„¦è™‘å¾—åˆ†:</strong> ${anxietyScore}/30åˆ† (${anxietyPercentage}%)</p>
                    <div style="background: #e0e0e0; height: 10px; border-radius: 5px; margin: 10px 0;">
                        <div style="background: linear-gradient(90deg, #667eea, #764ba2); height: 100%; width: ${anxietyPercentage}%; border-radius: 5px;"></div>
                    </div>
                    <p>${anxietyText}</p>
                </div>
                
                <div class="result-card">
                    <h3>ğŸ˜” æŠ‘éƒè¯„ä¼° <span class="level-indicator ${depressionClass}">${depressionLevel}</span></h3>
                    <p><strong>æŠ‘éƒå¾—åˆ†:</strong> ${depressionScore}/30åˆ† (${depressionPercentage}%)</p>
                    <div style="background: #e0e0e0; height: 10px; border-radius: 5px; margin: 10px 0;">
                        <div style="background: linear-gradient(90deg, #667eea, #764ba2); height: 100%; width: ${depressionPercentage}%; border-radius: 5px;"></div>
                    </div>
                    <p>${depressionText}</p>
                </div>
                
                ${dimensionAnalysis}
                
                <div class="result-card">
                    <h3>ğŸ’¡ ç»¼åˆå»ºè®®</h3>
                    <p><strong>ç”Ÿæ´»æ–¹å¼è°ƒæ•´:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>ä¿æŒè§„å¾‹ä½œæ¯,æ¯å¤©åŒä¸€æ—¶é—´èµ·åºŠå’Œç¡è§‰</li>
                        <li>æ¯å‘¨è‡³å°‘150åˆ†é’Ÿä¸­ç­‰å¼ºåº¦è¿åŠ¨(å¦‚å¿«èµ°ã€æ¸¸æ³³)</li>
                        <li>å‡è¡¡é¥®é£Ÿ,å‡å°‘é…’ç²¾å’Œå’–å•¡å› </li>
                        <li>é™åˆ¶ç¤¾äº¤åª’ä½“ä½¿ç”¨æ—¶é—´,å¢åŠ é¢å¯¹é¢äº¤æµ</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>å¿ƒç†æŠ€å·§:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>ç»ƒä¹ æ­£å¿µå†¥æƒ³æˆ–æ·±å‘¼å¸(æ¯å¤©10-15åˆ†é’Ÿ)</li>
                        <li>å†™æƒ…ç»ªæ—¥è®°,è®°å½•æƒ³æ³•å’Œæ„Ÿå—</li>
                        <li>åŸ¹å…»æ„Ÿæ©ä¹ æƒ¯,æ¯å¤©è®°å½•3ä»¶æ„Ÿæ¿€çš„äº‹</li>
                        <li>æŒ‘æˆ˜è´Ÿé¢æ€ç»´,å¯»æ‰¾æ›´å¹³è¡¡çš„è§‚ç‚¹</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>ç¤¾äº¤æ”¯æŒ:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>ä¸ä¿¡ä»»çš„æœ‹å‹æˆ–å®¶äººåˆ†äº«ä½ çš„æ„Ÿå—</li>
                        <li>åŠ å…¥æ”¯æŒå°ç»„æˆ–å…´è¶£å›¢ä½“</li>
                        <li>å¯»æ±‚ä¸“ä¸šå¸®åŠ©ä¸æ˜¯è½¯å¼±çš„è¡¨ç°,è€Œæ˜¯å‹‡æ°”</li>
                    </ul>
                    
                    ${totalScore > 20 ? `
                    <p style="margin-top: 15px;"><strong>ä¸“ä¸šæ²»ç–—é€‰æ‹©:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>è®¤çŸ¥è¡Œä¸ºç–—æ³•(CBT):</strong> è¯†åˆ«å’Œæ”¹å˜è´Ÿé¢æ€ç»´æ¨¡å¼</li>
                        <li><strong>æ­£å¿µè®¤çŸ¥ç–—æ³•(MBCT):</strong> ç»“åˆæ­£å¿µå’Œè®¤çŸ¥æŠ€å·§</li>
                        <li><strong>äººé™…å…³ç³»ç–—æ³•(IPT):</strong> æ”¹å–„äººé™…å…³ç³»å’Œç¤¾äº¤åŠŸèƒ½</li>
                        <li><strong>è¯ç‰©æ²»ç–—:</strong> åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹ä½¿ç”¨æŠ—æŠ‘éƒæˆ–æŠ—ç„¦è™‘è¯ç‰©</li>
                    </ul>
                    ` : ''}
                </div>
                
                <div class="result-card">
                    <h3>ğŸ†˜ ç´§æ€¥èµ„æº</h3>
                    <p><strong>å¦‚æœä½ å¤„äºå±æœºä¸­,è¯·ç«‹å³è”ç³»:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>24å°æ—¶å¿ƒç†æ´åŠ©çƒ­çº¿: 400-161-9995</li>
                        <li>åŒ—äº¬å¿ƒç†å±æœºç ”ç©¶ä¸å¹²é¢„ä¸­å¿ƒ: 010-82951332</li>
                        <li>ç”Ÿå‘½çƒ­çº¿: 400-821-1215</li>
                        <li>æˆ–æ‹¨æ‰“å½“åœ°120æ€¥æ•‘ç”µè¯</li>
                    </ul>
                </div>
                
                <div class="disclaimer">
                    <p><strong>é‡è¦å£°æ˜:</strong> æœ¬æµ‹è¯•åŸºäºæ ‡å‡†åŒ–é‡è¡¨è®¾è®¡,ä½†ç»“æœä»…ä¾›å‚è€ƒ,ä¸èƒ½æ›¿ä»£ä¸“ä¸šè¯Šæ–­ã€‚ç„¦è™‘ç—‡å’ŒæŠ‘éƒç—‡çš„è¯Šæ–­éœ€è¦ç”±æœ‰èµ„è´¨çš„ç²¾ç¥ç§‘åŒ»ç”Ÿæˆ–ä¸´åºŠå¿ƒç†å­¦å®¶è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚å¦‚æœä½ çš„ç—‡çŠ¶æŒç»­ä¸¤å‘¨ä»¥ä¸Š,æˆ–ä¸¥é‡å½±å“ç”Ÿæ´»,è¯·åŠ¡å¿…å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚æ—©æœŸå¹²é¢„å¯ä»¥æ˜¾è‘—æ”¹å–„é¢„åã€‚</p>
                </div>
            `;
        }

        function restartTest() {
            currentQuestion = 0;
            answers = [];
            document.querySelector('.result-screen').classList.remove('active');
            document.querySelector('.welcome-screen').classList.add('active');
        }
    </script>
</body>
</html>